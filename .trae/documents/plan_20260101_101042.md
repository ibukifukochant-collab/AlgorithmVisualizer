## 1. 需求分析与规划

### 1.1 核心需求
- 将迷宫生成的默认长宽设置为30x30
- 增加两种迷宫生成算法选择：
  - Recursive backtracker (递归回溯/深度优先算法)
  - Randomized Prim's algorithm (随机Prim算法)

### 1.2 实现方案

#### 1.2.1 前端页面修改
- 在迷宫参数设置区域添加算法选择下拉菜单
- 修改默认长宽参数值为30

#### 1.2.2 算法实现
- 在 `algorithm.js` 中实现两种迷宫生成算法
- 更新 `generateMaze` 方法以支持算法选择

#### 1.2.3 数据结构设计
- 迷宫表示保持不变：0表示通路，1表示墙壁
- 算法选择通过枚举或字符串标识

## 2. 详细实现步骤

### 2.1 HTML结构修改
- 在 `index.html` 的迷宫参数设置区域添加算法选择下拉菜单
- 修改 `mazeWidth` 和 `mazeHeight` 输入框的默认值为30

### 2.2 CSS样式调整
- 确保新添加的算法选择控件符合现有UI风格
- 调整参数设置区域的布局以容纳新控件

### 2.3 算法实现

#### 2.3.1 Recursive Backtracker算法实现
- 实现基于深度优先搜索的递归回溯算法
- 使用堆栈跟踪访问路径
- 随机选择未访问的邻居并移除墙壁

#### 2.3.2 Randomized Prim's算法实现
- 实现基于随机Prim算法的迷宫生成
- 使用队列管理待处理的墙壁
- 随机选择墙壁并移除，连接未访问区域

#### 2.3.3 算法切换逻辑
- 修改 `generateMaze` 方法，根据传入的算法类型调用相应的生成函数
- 保持与现有代码的兼容性

### 2.4 可视化适配
- 确保两种算法生成的迷宫都能正确可视化
- 保持现有DFS搜索算法的完整性

## 3. 文件修改清单

| 文件 | 修改内容 |
|------|----------|
| `index.html` | 添加算法选择控件，修改默认长宽 |
| `style.css` | 调整参数设置区域布局 |
| `algorithm.js` | 实现两种迷宫生成算法，更新生成逻辑 |
| `visualization.js` | 确保兼容新的迷宫数据结构 |

## 4. 预期效果

- 用户可以选择迷宫生成算法类型
- 默认生成30x30大小的迷宫
- 两种算法生成的迷宫都具有合理的连通性
- 保持现有DFS搜索功能不变

## 5. 技术要点

- 递归回溯算法的堆栈管理
- 随机Prim算法的队列和集合操作
- 算法性能优化，确保30x30迷宫生成流畅
- 保持代码的可读性和可维护性

## 6. 测试计划

- 测试两种算法生成的迷宫是否连通
- 测试不同大小迷宫的生成性能
- 测试算法切换功能是否正常
- 测试DFS搜索算法在两种迷宫上的表现

这个实现将为用户提供更多的迷宫生成选择，同时保持现有功能的完整性和稳定性。